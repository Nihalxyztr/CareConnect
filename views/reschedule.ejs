<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Reschedule Appointment - CareConnect</title>
    <link rel="stylesheet" href="/css/style.css">
</head>
<body>
    <%- include('partials/header') %>

    <main style="padding: 50px 8%; background: #f4f8fb; min-height: calc(100vh - 200px);">
        <section class="appointment-section" style="max-width: 550px; margin: 0 auto; background: #ffffff; padding: 40px; border-radius: 12px; box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);">
            <h2 class="section-title" style="color: #0077b6; font-size: 2rem; margin-bottom: 30px; font-weight: 700; text-align: center;">Reschedule Appointment</h2>

            <form class="appointment-form" method="POST" action="/reschedule/<%= appointment._id %>">
                <label>New Date</label>
                <input type="date" name="date" value="<%= appointment.date %>" required>

                <label>New Time</label>
                <select name="time" required>
                    <% if (availableSlots.length === 0) { %>
                        <option disabled>All slots full</option>
                    <% } else { %>
                        <option value="">Select Time</option>
                        <% availableSlots.forEach(t => { %>
                            <option value="<%= t %>"><%= t %></option>
                        <% }) %>
                    <% } %>
                </select>

                <button class="btn-primary" style="padding: 12px 32px; font-size: 1rem; font-weight: 600; border-radius: 8px; background: #0077b6; color: white; border: none; cursor: pointer; transition: all 0.3s ease; margin-top: 10px;">Save Changes</button>
            </form>

        </section>
    </main>

    <%- include('partials/footer') %>
</body>
</html>
