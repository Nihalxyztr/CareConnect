<div class="dashboard-header">
    <h2>Welcome, Dr. <%= doctor.name %></h2>
</div>

<h3 class="section-title">Upcoming Appointments</h3>

<div class="cards-container">

    <% if (appointments.length === 0) { %>

        <p>No appointments scheduled.</p>

    <% } else { %>

        <% appointments.forEach(a => { %>

            <div class="card">

                <p><strong>Patient:</strong> <%= a.user.name %></p>
                <p><strong>Email:</strong> <%= a.user.email %></p>
                <p><strong>Date:</strong> <%= a.date %></p>
                <p><strong>Time:</strong> <%= a.time %></p>

                <!-- Join Call -->
                <div style="margin-top: 12px;">
                    <a href="/video/<%= a._id %>" class="btn-primary">
                        Join Video Call
                    </a>
                </div>

                <!-- View Appointment Link -->
                <div style="margin-top: 10px;">
                    <a href="/doctor-dashboard/appointment/<%= a._id %>" 
                       class="btn-primary">
                        View Details
                    </a>
                </div>

            </div>

        <% }) %>

    <% } %>

</div>
